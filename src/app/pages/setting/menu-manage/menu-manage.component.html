<nz-card nzTitle="用户菜单" [nzExtra]="extraTemplate">
  <div style="margin-bottom: 16px;">
    <button nz-button nzType="primary" (click)="showModal()"><i nz-icon type="plus"></i>新增</button>
  </div>
  <nz-table #expandTable [nzData]="listOfMapData">
    <thead>
    <tr>
      <th nzWidth="40%">Name</th>
      <th nzWidth="30%">Age</th>
      <th>Address</th>
    </tr>
    </thead>
    <tbody>
    <ng-container *ngFor="let data of expandTable.data">
      <ng-container *ngFor="let item of mapOfExpandedData[data.key]">
        <tr *ngIf="(item.parent && item.parent.expand) || !item.parent">
          <td
            [nzIndentSize]="item.level * 20"
            [nzShowExpand]="!!item.children"
            [(nzExpand)]="item.expand"
            (nzExpandChange)="collapse(mapOfExpandedData[data.key], item, $event)"
          >
            {{ item.name }}
          </td>
          <td>{{ item.age }}</td>
          <td>{{ item.address }}</td>
        </tr>
      </ng-container>
    </ng-container>
    </tbody>
  </nz-table>
</nz-card>

<ng-template #extraTemplate>
  <span style="cursor: pointer;">
    <i nz-icon nzType="sync" nzTheme="outline"></i>
    <span style="margin-left: 5px;">刷新数据</span>
  </span>
</ng-template>

<!--新增菜单对话框-->
<nz-modal
  [(nzVisible)]="isShowAdd"
  nzWidth="800"
  nzTitle="新增"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()"
  [nzOkLoading]="isAddOkLoading">

  <nz-radio-group [(ngModel)]="radioValue" (ngModelChange)="selectAddMenuType($event)">
    <label nz-radio nzValue="A">菜单</label>
    <label nz-radio nzValue="B">按钮</label>
  </nz-radio-group>

  <form nz-form [formGroup]="validateForm">
    <nz-form-item>
      <nz-form-label [nzSm]="4" [nzXs]="24" nzFor="nickname" nzRequired>昵称</nz-form-label>
      <nz-form-control [nzSm]="10" [nzXs]="24">
        <input nz-input id="nickname" formControlName="nickname" placeholder="请输入" />
        <nz-form-explain *ngIf="validateForm.get('nickname')?.dirty && validateForm.get('nickname')?.errors">Please
          input your nickname!</nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item *ngIf="radioType">
      <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired nzFor="email">邮箱</nz-form-label>
      <nz-form-control [nzSm]="10" [nzXs]="24">
        <input nz-input formControlName="email" id="email" placeholder="请输入" />
        <nz-form-explain *ngIf="validateForm.get('email')?.dirty && validateForm.get('email')?.errors">
          格式错误!
        </nz-form-explain>
      </nz-form-control>
    </nz-form-item>
  </form>

</nz-modal>
